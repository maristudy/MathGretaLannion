<!DOCTYPE html>
<html>
<head>

</head>
<body>

<div id="enonce"> </div>

	<style>
			tr {
				border-spacing: 0;
			}
			
			table {
				border : solid 1px black;
				border-spacing: 0;
			}
			
			td {
				border : solid 1px black;
				height:25px;
				width:25px;
				text-align:center;
				border-spacing: 0;
			}
			
			.cache {
			display:none;
			}

			#affiche {
			margin:25px 0px 25px 0px;
			}
			
			body {
				display:flex;
				color:#ffffff;
				background-color:#7f7f7f;
			}
			
			a, a:visited {
				color:#ffffff;
			}
			
			.vide{
				background-color:#7f7f7f;
			}
			
			.barre{

				border-top : solid 2px black;
			}
			
			.plein{
				background-color:grey;
				color:grey;
				width:35px;
				height:35px;
			}
			
	</style>
<script>
	
	function expr2html(expr)
	{
		let result=expr;
		result=result.replaceAll("abarre","<span class=\"barre\">a</span>");
		result=result.replaceAll("bbarre","<span class=\"barre\">b</span>");
		result=result.replaceAll("cbarre","<span class=\"barre\">c</span>");
		return result;
	}
	
	function expr2sujet(expr)
	{
		let result="";
		if (expr[0]==1)
			result+="a b c + "
		if (expr[1]==1)
			result+="a b cbarre + "
		if (expr[2]==1)
			result+="a bbarre cbarre + "
		if (expr[3]==1)
			result+="a bbarre c + "
		if (expr[4]==1)
			result+="abarre b c + "
		if (expr[5]==1)
			result+="abarre b cbarre + "
		if (expr[6]==1)
			result+="abarre bbarre cbarre + "
		if (expr[7]==1)
			result+="abarre bbarre c + "
			
		result=result.substring(0, result.length-2); //retire le dernier +
		
		return (expr2html(result))
			
	}
	
	function karnaugh2tab(bin, barre) // barre==1 pour barre(bin)
	{
		let result="<table>";
		result+="<tr><td></td><td>bc</td><td>b<span class=\"barre\">c</span></td><td><span class=\"barre\">b</span><span class=\"barre\">c</span></td><td><span class=\"barre\">b</span>c</td></tr>";
		result+="<tr><td>a</td><td>"+bin[0]+"</td><td>"+bin[1]+"</td><td>"+bin[2]+"</td><td>"+bin[3]+"</td></tr>";
		result+="<tr><td><span class=\"barre\">a</span></td><td>"+bin[4]+"</td><td>"+bin[5]+"</td><td>"+bin[6]+"</td><td>"+bin[7]+"</td></tr>";
		result+="</table>";
		
		if(barre==0)
		{
			result=result.replaceAll("0","<span class=\"vide\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>");
			result=result.replaceAll("1","<span class=\"plein\">***</span>");
		}
		else
		{
			result=result.replaceAll("1","<span class=\"vide\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>");
			result=result.replaceAll("0","<span class=\"plein\">***</span>");			
		}
		
		return result;
	}
	
	
	



/*


	var DebutFL = Math.floor(Math.random()*4);
	var MilieuFL = Math.floor(Math.random()*2);
	var FinFL = Math.floor(Math.random()*2);

	var FonctionLogique = "( "+ debut[DebutFL] + milieu[MilieuFL] + fin[FinFL] +" ) ";

	document.write("<div><p><a href=\"https://maristudy.github.io/MathGretaLannion\"> gitpage </a> <br><a href=\"../index.html\">Retour à l'accueil</a></p><center><b> - Les fonctions logiques - </b><BR></center>");
	document.write("<HR>");

	document.write("Donner la table de v&eacute;rit&eacute; de la fonction logique suivante...<BR>");
	document.write("Fonction logique : " + FonctionLogique );

	document.write("<BR><BR>");
	document.write("<table border = 1 >");
	document.write("<tr><td width = 15px>a</td><td width = 15px>b</td><td width = 15px>c</td><td width = 550px></td></tr>");

		for(j=0;j<8;j++)
		{
		
		//document.write("<tr></td><td height = 30px>"+a+"</td><td>"+b+"</td><td>"+c+"</td><td>&nbsp;</td></tr>");
		document.write("<tr></td><td height = 30px>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>&nbsp;</td></tr>");
	}

	document.write("</table> <p id=\"affiche\">Afficher la réponse</p>");

			
			
document.write("<p style=\"page-break-before: always;\"> </div>");

	document.write("<div id=\"tabreponse\" class=\"cache\"><BR><BR><BR><BR><BR><HR style=\"margin:6px;\"><center><b>CORRECTION - Les fonctions logiques - </b></center><HR>");
	document.write("Fonction logique : " + FonctionLogique );
	document.write("<BR>");
	document.write("<table border = 1 >");
	document.write("<tr><td width = 15px>a</td><td width = 15px>b</td><td width = 15px>c</td><td><font size=2>"+debut[DebutFL]+"</font></td><td><font size=2>"+fin[FinFL]+"</font></td><td><font size=2>"+FonctionLogique+"</font></td></tr>");

		for(j=0;j<8;j++)
		{
		var tempo = j.toString(2);
		if(tempo.length==1)
		{
		a=0;
		b=0;
		c=tempo[0];

		}
		if(tempo.length==2)
		{
		a=0;
		b=tempo[0];
		c=tempo[1];
		}
		if(tempo.length==3)
		{

		a=tempo[0];
		b=tempo[1];
		c=tempo[2];
		}
		if(tempo.length==4)
		{
		a=tempo[0];
		b=tempo[1];
		c=tempo[2];

		}
		
		*/
		
		
/*
var debut=new Array("( a et b )","( non(a) et b )","( non(a) et non(b) )","( a et non(b) )");
var milieu=new Array(" et "," ou ");
var fin=new Array("( c ou d )","( non(c) ou d )","( non(c) ou non(d) )","( c ou non(d) )");
var FonctionLogique = "( "+ debut[DebutFL] + milieu[MilieuFL] + fin[FinFL] +" ) ";
*/


/*

		if (a==0) { var ba=new Boolean(false); }
		if (a==1) { var ba=new Boolean(true); }  
		if (b==0) { var bb=new Boolean(false); }
		if (b==1) { var bb=new Boolean(true); }
		if ( DebutFL==0) { var e =new Boolean(); e = ( ba.valueOf() && bb.valueOf() ); }
		if ( DebutFL==1) { var e =new Boolean(); e = ( (!(ba.valueOf())) && bb.valueOf() ); }
		if ( DebutFL==2) { var e =new Boolean(); e = ( (!(ba.valueOf())) && (!(bb.valueOf())) ); }
		if ( DebutFL==3) { var e =new Boolean(); e = ( ba.valueOf() && (!(bb.valueOf())) ); }
		if ( e.valueOf()==true ) { ee=1; }
		if ( e.valueOf()==false ) { ee=0; }    
		if (c==0) { var bc=new Boolean(false); }
		if (c==1) { var bc=new Boolean(true); }  

		if ( FinFL==0) { var f =new Boolean(); f = ( bc.valueOf()  ); }
		if ( FinFL==1) { var f =new Boolean(); f = ( (!(bc.valueOf())) ); }

		if ( f.valueOf()==true ) { ff=1; }
		if ( f.valueOf()==false ) { ff=0; }
		if ( MilieuFL==0) { var g =new Boolean(); g = ( ee.valueOf() && ff.valueOf() ); }
		if ( MilieuFL==1) { var g =new Boolean(); g = ( ee.valueOf() || ff.valueOf() ); }
		if ( g.valueOf()==true ) { gg=1; }
		if ( g.valueOf()==false ) { gg=0; }
      
		document.write("<tr></td><td height = 30px>"+a+"</td><td>"+b+"</td><td>"+c+"</td><td>"+ee+"</td><td>"+ff+"</td><td>"+gg+"</td></tr>");
		}

	document.write("</table></div>");

document.write("<p style=\"page-break-before: always;\">");


			affiche=document.getElementById("affiche");
			affiche.addEventListener("click",() => {
				tab=document.getElementById("tabreponse").classList.toggle("cache");
		
			});
*/

</script>



<script>

	
	
	var tablo = new Array ("a*11110000*abarre","abarre*00001111*a","b*11001100*bbarre","bbarre*00110011*b","c*10011001*cbarre","cbarre*01100110*c","bc+bbarrecbarre*10101010*bcbarre+bbarrec","bcbarre+bbarrec*01010101*bc+bbarrecbarre","ab+abarrebbarre*11000011*abbarre+abarreb","abarreb+abbarre*00111100*abarrebbarre+ab","ac+abarrecbarre*10010110*acbarre+abarrec","abarrec+acbarre*01101001*abarrecbarre+ac");

	let expression;
	var enonce=document.getElementById("enonce");
	let sujet;
	let correction;
	
	for(let i=0; i<tablo.length;i++)
	{
//		sujet=document.createElement("div");
//		correction=document.createElement("div");
		
		enonce.innerHTML+=" NOM : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+
		"PRENOM : <br>"+
		"<center>** sujet numéro "+i+" **</center></span><br><hr>";

		expression=tablo[i];
		sujet=tablo[i].split("*");//0 => solution 1=> enonce 2=> solutionbarre
		
//		console.log("************"+i+"****************");
//		console.log(tablo[i]);
//		console.log("* enonce *");
// "<p>"+expression+"</p>
		enonce.innerHTML+="<p> Représenter le tableau de Karnaugh de l'expression suivante : "+expr2sujet(sujet[1])+" puis en donner une forme simplifiée. Faire de même avec le complément ( tableau de Karnaugh et sa forme simplifiée )</p>"+
							"<br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> "
//		enonce.innerHTML+="<p id=\"affiche\">Afficher la réponse</p>"

 		enonce.innerHTML+="<div id=\"reponse\" ><center><span> ** correction sujet "+
							i+" **</span></center>"+
							"<p> Représenter le tableau de Karnaugh de l'expression suivante : "+expr2sujet(sujet[1])+
							" puis en donner une forme simplifiée. Faire de même avec le complément ( tableau de Karnaugh et sa forme simplifiée )</p>"+
							"<div style=\"display:flex;justify-content:space-between;\"><p>forme simplifiée : "+expr2html(sujet[0])+" &nbsp;<br>tableau de Karnaugh : <br>"+karnaugh2tab(sujet[1], 0)+" </p>"+
							"<p>forme simplifiée du complément : "+expr2html(sujet[2])+" &nbsp;<br>Karnaugh du complément : <br>"+karnaugh2tab(sujet[1], 1)+"</p></div></div>"+
							"<p style=\"page-break-before: always;\"></p>";  // pour generateur interro
		
//		console.log(expr2sujet(sujet[1]));
//		console.log("* karnaugh *");
//		console.log(karnaugh2tab(sujet[1], 0));
//		console.log("* karnaugh barre*");
//		console.log(karnaugh2tab(sujet[1], 1));
//		console.log("* solution *");
//		console.log(expr2html(sujet[0]));		
//		console.log("* solution barre*");		
//		console.log(expr2html(sujet[2]));		
		
//		enonce.appendChild(sujet);
//		enonce.appendChild(correction);
		
	}

//	affiche=document.getElementById("affiche");
//			affiche.addEventListener("click",() => {
//				tab=document.getElementById("reponse").classList.toggle("cache");
//				});
</script>

</body>
</html> 
